<div class="col-sm-12 panel panel-default">
  <div class="panel-body">
    <h2 class='text-center'>
      Logistical Information
    </h2>
    <h3>
    Basic Information
    </h3>
    <table class="table">
      <tr>
        <td>Customer ID:</td>
        <td><%= @order.user_id %></td>
      </tr>
      <tr>
        <td>Customer</td>
        <td><%= link_to @order.user.full_name, user_path(@order.user) %></td>
      </tr>
      <tr>
        <td>E-mail</td>
        <td><%= @order.user.email %></td>
      </tr>
      <tr>
        <td>Date Placed</td>
        <td>N/A</td>
      </tr>
    </table>
    <%= link_to "Edit Customer Profile", edit_user_path(@order.user) %>
    <%= form_for @order do |f| %>

      <h3>
        Order Status
      </h3>
      <p>PLACED</p>
      <%= f.radio_button :checkout_date, Date.today %>
      <p>UNPLACED</p>
      <%= f.radio_button :checkout_date, nil %>
      <h3>
        Shipping Address
      </h3>
      <%= f.collection_select :shipping_id, @order.user.addresses, :id, :street_address, :html => {class: 'form-control'}%>
      <h3>
        Billing Address
      </h3>
      <%= f.collection_select :billing_id, @order.user.addresses, :id, :street_address, :html => {class: 'form-control'}%>
      <h3>
        Billing Card
      </h3>
      <select name="empty" id="cards">
        <%= @order.user.credit_cards.each do |card| %>
          <option>
            <%= card.card_number %>
          </option>
        <% end %>
      </select>
      <br>
      <br>
      <%= f.hidden_field :user_id %>
      <%= f.submit %>
    <% end %>
  </div>
</div>
<div class="col-sm-12 panel panel-default">
  <div class="panel-body">
    <h2>
      Order Contents
    </h2>
    <table class="table table-striped">
      <tr>
        <th>ProductID</th>
        <th>Product</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Total Price</th>
      </tr>
      <%= form_for @order_contents do |f| %>
        <% OrderContent.where(:order_id => @order.id).each do |o| %>
          <tr>
            <td><%= o.product_id %></td>
            <td><%= f.text_field :quantity %></td>
            <td>$<%= o.product.price %></td>
            <td>$<%= o.quantity * o.product.price %></td>
          </tr></tr>
        <% end %>
      <% end %>
    </table>
    <%= link_to "Edit Order", edit_order_path(@order) %>
    <br>
    <%= link_to "Delete Order", order_path(@order), method: :delete %>
  </div>
</div>
<div class="col-sm-12 panel panel-default">
  <div class="panel-body">
    <h2>
      Add Products to Order
    </h2>
    <table class="table table-striped">
      <tr>
        <th>ProductID</th>
        <th>Quantity</th>
      </tr>

      <%= form_for @order_contents do |f| %>
        <% OrderContent.where(:order_id => @order.id).each do |o| %>
          <tr>
            <td><%= f.text_field :product_id %></td>
            <td><%= f.text_field :quantity %></td>
          </tr></tr>
        <% end %>
      <% end %>
    </table>
  </div>
</div>
